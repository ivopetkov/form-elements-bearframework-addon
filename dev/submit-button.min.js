/*
 * Form elements addon for Bear Framework
 * https://github.com/ivopetkov/form-elements-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{};
ivoPetkov.bearFrameworkAddons.formElementsSubmitButton=ivoPetkov.bearFrameworkAddons.formElementsSubmitButton||function(){return{onClick:function(a,f,g){for(var b=a;b&&"form"!==b.tagName.toLowerCase();)b=b.parentNode;if(b&&("undefined"===typeof a.disableNextClick||!a.disableNextClick)){var c=b,d=function(){a.disableNextClick=!0;"undefined"===typeof a.originalInnerText&&(a.originalInnerText=a.innerText);"undefined"===typeof a.originalClass&&(a.originalClass=a.getAttribute("class"));0<g.length&&a.setAttribute("class",
"waitingClass");a.innerText=f;a.setAttribute("disabled","true");a.style.cursor="default"},e=function(){a.disableNextClick=!1;a.innerText=a.originalInnerText;a.removeAttribute("disabled");a.style.cursor="pointer";c.removeEventListener("requestsent",d);c.removeEventListener("responsereceived",e);a.setAttribute("class",a.originalClass)};c.addEventListener("submitstart",d);c.addEventListener("submitend",e);c.submit()}}}}();