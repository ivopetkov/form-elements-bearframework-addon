<?php

/*
 * Form elements addon for Bear Framework
 * https://github.com/ivopetkov/form-elements-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */
     
return <<<'EOT'
for(var elements=document.body.querySelectorAll("[data-form-element-type='radio-list']"),i=0;i<elements.length;i++)!function(e){if(void 0===e.dataFormElementAPISet){e.dataFormElementAPISet=!0;var t=e.querySelector('input[type="hidden"]'),n=e.querySelectorAll('input[type="radio"]');t.getFormElementContainer=function(){return e},e.getValue=function(){return t.value},e.setValue=function(e){t.value=e;for(var o=!1,i=0;i<n.length;i++){(r=n[i]).checked=r.getAttribute("value")===e,r.checked&&(o=!0)}if(!o)for(i=0;i<n.length;i++){var r,a=(r=n[i]).parentNode.querySelector('[data-form-element-component="radio-list-option-textbox"]');null!==a&&(r.checked=!0,r.value=e,a.value=e)}},e.setVisibility=function(t){e.setAttribute("data-form-element-visibility",t?"1":"0")};for(var o=0;o<n.length;o++)!function(e){e.addEventListener("change",(function(){e.checked&&(t.value=e.getAttribute("value"))}));var n=e.parentNode.querySelector('[data-form-element-component="radio-list-option-textbox"]');if(null!==n){var o=function(o){void 0!==o.keyCode&&9===o.keyCode||setTimeout((function(){var o=n.value;t.value=o,e.value=o,e.checked=!0}),1)};n.addEventListener("change",o),n.addEventListener("keydown",o),n.addEventListener("keyup",o),n.addEventListener("cut",o),n.addEventListener("paste",o)}}(n[o])}}(elements[i]);
EOT;
