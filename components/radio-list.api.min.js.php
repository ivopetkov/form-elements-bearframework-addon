<?php

/*
 * Form elements addon for Bear Framework
 * https://github.com/ivopetkov/form-elements-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */
     
return <<<'EOT'
for(var elements=document.body.querySelectorAll("[data-form-element-type='radio-list']"),i=0;i<elements.length;i++)!function(e){if(void 0===e.dataFormElementAPISet){e.dataFormElementAPISet=!0;var t=e.querySelector('input[type="hidden"]'),n=e.querySelectorAll('input[type="radio"]');t.getFormElementContainer=function(){return e},e.getName=function(){return t.getAttribute("name")},e.getValue=function(){return t.value},e.setValue=function(e){t.value=e;for(var r=!1,i=0;i<n.length;i++){(o=n[i]).checked=o.getAttribute("value")===e,o.checked&&(r=!0)}if(!r)for(i=0;i<n.length;i++){var o,a=(o=n[i]).parentNode.querySelector('[data-form-element-component="radio-list-option-textbox"]');null!==a&&(o.checked=!0,o.value=e,a.value=e)}},e.setVisibility=function(t){e.setAttribute("data-form-element-visibility",t?"1":"0")};for(var r=0;r<n.length;r++)!function(e){e.addEventListener("change",(function(){e.checked&&(t.value=e.getAttribute("value"))}));var n=e.parentNode.querySelector('[data-form-element-component="radio-list-option-textbox"]');if(null!==n){var r=function(r){void 0!==r.keyCode&&9===r.keyCode||setTimeout((function(){var r=n.value;t.value=r,e.value=r,e.checked=!0}),1)};n.addEventListener("change",r),n.addEventListener("keydown",r),n.addEventListener("keyup",r),n.addEventListener("cut",r),n.addEventListener("paste",r)}}(n[r])}}(elements[i]);
EOT;
