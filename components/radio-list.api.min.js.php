<?php

/*
 * Form elements addon for Bear Framework
 * https://github.com/ivopetkov/form-elements-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */
     
return <<<'EOT'
for(var elements=document.body.querySelectorAll("[data-form-element-type='radio-list']"),i=0;i<elements.length;i++)!function(e){if(void 0===e.dataFormAPISet){e.dataFormAPISet=!0;var t=e.querySelector('input[type="hidden"]'),n=e.querySelectorAll('input[type="radio"]');e.getValue=function(){return t.value},e.setValue=function(e){t.value=e;for(var a=!1,i=0;i<n.length;i++){(o=n[i]).checked=o.getAttribute("value")===e,o.checked&&(a=!0)}if(!a)for(i=0;i<n.length;i++){var o,r=(o=n[i]).parentNode.querySelector('[data-form-element-component="radio-list-option-textbox"]');null!==r&&(o.checked=!0,o.value=e,r.value=e)}},e.setVisibility=function(t){e.setAttribute("data-form-element-visibility",t?"1":"0")};for(var a=0;a<n.length;a++)!function(e){e.addEventListener("change",(function(){e.checked&&(t.value=e.getAttribute("value"))}));var n=e.parentNode.querySelector('[data-form-element-component="radio-list-option-textbox"]');if(null!==n){var a=function(a){void 0!==a.keyCode&&9===a.keyCode||setTimeout((function(){var a=n.value;t.value=a,e.value=a,e.checked=!0}),1)};n.addEventListener("change",a),n.addEventListener("keydown",a),n.addEventListener("keyup",a),n.addEventListener("cut",a),n.addEventListener("paste",a)}}(n[a])}}(elements[i]);
EOT;
