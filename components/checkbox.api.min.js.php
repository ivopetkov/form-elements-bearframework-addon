<?php

/*
 * Form elements addon for Bear Framework
 * https://github.com/ivopetkov/form-elements-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */

return <<<'EOT'
for(var elements=document.body.querySelectorAll("[data-form-element-type='checkbox']"),i=0;i<elements.length;i++)!function(e){if(void 0===e.dataFormAPISet){e.dataFormAPISet=!0;var t=e.querySelector("input");e.isChecked=function(){return t.checked},e.check=function(){t.checked||(t.checked=!0,t.dispatchEvent(new Event("change",{bubbles:!0})))},e.uncheck=function(){t.checked&&(t.checked=!1,t.dispatchEvent(new Event("change",{bubbles:!0})))},e.setVisibility=function(t){e.setAttribute("data-form-element-visibility",t?"1":"0")},e.querySelector('[data-form-element-component="label"]').addEventListener("keydown",(function(t){32===t.keyCode&&(t.preventDefault(),e.isChecked()?e.uncheck():e.check())})),t.focus=function(){t.nextSibling.focus()}}}(elements[i]);
EOT;
