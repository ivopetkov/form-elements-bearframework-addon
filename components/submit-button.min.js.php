<?php

/*
 * Form elements addon for Bear Framework
 * https://github.com/ivopetkov/form-elements-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */

return <<<'EOT'
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{},ivoPetkov.bearFrameworkAddons.formElementsSubmitButton=ivoPetkov.bearFrameworkAddons.formElementsSubmitButton||{onClick:function(e,t,i){for(var r=e;r&&"form"!==r.tagName.toLowerCase();)r=r.parentNode;if(r&&(void 0===e.disableNextClick||!e.disableNextClick)){var o=r,n=function(){e.disableNextClick=!0,void 0===e.originalInnerText&&(e.originalInnerText=e.innerText),void 0===e.originalClass&&(e.originalClass=e.getAttribute("class")),i.length>0&&e.setAttribute("class",i),e.innerText=t,e.setAttribute("disabled","true"),e.style.cursor="default"},s=function(){e.disableNextClick=!1,e.innerText=e.originalInnerText,e.removeAttribute("disabled"),e.style.cursor="pointer",o.removeEventListener("requestsent",n),o.removeEventListener("responsereceived",s),e.setAttribute("class",e.originalClass)};o.addEventListener("submitstart",n),o.addEventListener("submitend",s),o.submit()}}};
EOT;
